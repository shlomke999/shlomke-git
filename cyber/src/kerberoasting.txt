kerberoasting:

1. Kerberos pre authentication:

תוקף יכול לבקש TGT לרשימת משתמשים,

ואם הגדירו בטעות משתמשים שלא צריכים Kerberos pre authentication,

הם יקבלו TGT בלי צורך של התוקף לתת סיסמא.

וה TGT מוצפן עם הסיסמא של היוזר ואז התוקף יכול לפרוץ אותה.

 

2.

אם תוקף השיג גישה למשתמש הכי פשוט שיהיה (למשל בדרך שהסברנו בסעיף 1), הוא יכול לבקש SPN כי SPN גלויים לכולם כי הם אמורים לספק שירותים כמו MYSQL

ואז אחרי שיש לו את ה SPN הוא מבקש TGS לאותו סרוויס, הסיבה שאפשר לבקש את זה זה כי יש לו כבר טיקט של היוזר שהוא התחבר איתו אז הוא יכול לקבל סרוויסים בדומיין.

ה-KDC מייצר TGS שמוצפן עם ההאש של הסיסמה של חשבון השירות הקשור ל- SPN.

ואז לעשות לו קראק עם HASHCAT
